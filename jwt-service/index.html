<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.70caa0c25d979c630c42.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}@font-face{font-family:IBM Plex Mono;font-style:normal;font-display:swap;font-weight:100;src:local("IBM Plex Mono Thin "),local("IBM Plex Mono-Thin"),url(/static/ibm-plex-mono-latin-100-66147ec50b4eb05e3b6c21611c33790e.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-100-6a8f15dca011b70615a3c29f05f97dc8.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:italic;font-display:swap;font-weight:100;src:local("IBM Plex Mono Thin italic"),local("IBM Plex Mono-Thinitalic"),url(/static/ibm-plex-mono-latin-100italic-a8800743f96e9961cd9ba84c08c2ad57.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-100italic-85ad593fed9a414fbeccfdc575cca676.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:normal;font-display:swap;font-weight:200;src:local("IBM Plex Mono Extra Light "),local("IBM Plex Mono-Extra Light"),url(/static/ibm-plex-mono-latin-200-4b65d6136cfc2097c4a2103960f00a2c.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-200-c4a0ce12ecdb23f879da3d3fda010ee0.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:italic;font-display:swap;font-weight:200;src:local("IBM Plex Mono Extra Light italic"),local("IBM Plex Mono-Extra Lightitalic"),url(/static/ibm-plex-mono-latin-200italic-77fe03f8b68f4604eecbce1da8151ef8.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-200italic-670a9e7995acf2c750e918bf26f185b6.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:normal;font-display:swap;font-weight:300;src:local("IBM Plex Mono Light "),local("IBM Plex Mono-Light"),url(/static/ibm-plex-mono-latin-300-56e880ec6629cfe6a254bc193d5b6d9d.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-300-bae06435272a2c6a67ae2b36ff18e179.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:italic;font-display:swap;font-weight:300;src:local("IBM Plex Mono Light italic"),local("IBM Plex Mono-Lightitalic"),url(/static/ibm-plex-mono-latin-300italic-ceaa5b358d024f93146bd25356545fa9.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-300italic-dc93117ab28a1eb0857163c4eb7deaf1.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:normal;font-display:swap;font-weight:400;src:local("IBM Plex Mono Regular "),local("IBM Plex Mono-Regular"),url(/static/ibm-plex-mono-latin-400-762415236b4a11831f9fc064ea48dbdb.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-400-0c3db5c13d8ffb2ddd28b9a42a59dc65.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:italic;font-display:swap;font-weight:400;src:local("IBM Plex Mono Regular italic"),local("IBM Plex Mono-Regularitalic"),url(/static/ibm-plex-mono-latin-400italic-8e7e467ca654d970db89cdb6e2b2f3d6.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-400italic-aaddd0148a7c6f9b5a75b92d73fe4bcd.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:normal;font-display:swap;font-weight:500;src:local("IBM Plex Mono Medium "),local("IBM Plex Mono-Medium"),url(/static/ibm-plex-mono-latin-500-129e3b37c9d80c7e421b432c887c6a7b.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-500-408108116946c64550813cb58f61d3d9.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:italic;font-display:swap;font-weight:500;src:local("IBM Plex Mono Medium italic"),local("IBM Plex Mono-Mediumitalic"),url(/static/ibm-plex-mono-latin-500italic-e4b488aee8485ff4fb95cc0afbdb2d0c.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-500italic-2ea8ff3f52922e7c387dd14aa99f453c.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:normal;font-display:swap;font-weight:600;src:local("IBM Plex Mono SemiBold "),local("IBM Plex Mono-SemiBold"),url(/static/ibm-plex-mono-latin-600-0c4a54706495d75dc9e484eb51714f46.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-600-edc84851e3c314b4a16428b8eea5b83a.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:italic;font-display:swap;font-weight:600;src:local("IBM Plex Mono SemiBold italic"),local("IBM Plex Mono-SemiBolditalic"),url(/static/ibm-plex-mono-latin-600italic-b6ce6afe50aad8959d72db8f692e20f4.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-600italic-c8e34ed5bac9db9130f08e17f3656241.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:normal;font-display:swap;font-weight:700;src:local("IBM Plex Mono Bold "),local("IBM Plex Mono-Bold"),url(/static/ibm-plex-mono-latin-700-7d3e2006c08ae4fc5f9fd4ec4b6687fa.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-700-fad98aa1986d898f738f80d43016508e.woff) format("woff")}@font-face{font-family:IBM Plex Mono;font-style:italic;font-display:swap;font-weight:700;src:local("IBM Plex Mono Bold italic"),local("IBM Plex Mono-Bolditalic"),url(/static/ibm-plex-mono-latin-700italic-3e2a214a5e4516e826cba5fc34d2695c.woff2) format("woff2"),url(/static/ibm-plex-mono-latin-700italic-a889348ccfccb600c0f7815832b98872.woff) format("woff")}body{background-color:#fff6f4}.flex-center,body{display:flex;flex-direction:row;align-items:center;justify-content:center}a,a:visited{color:inherit;outline:none}a.simple,a.simple:visited{text-decoration:none}a:hover{text-decoration:underline}*{font-family:IBM Plex Mono,Courier New,Courier,monospace}div{overflow:auto}.blog-post-module--title--3-2cL{color:#b95204;margin:0}.blog-post-module--meta--2_bew{margin:20px 0}.blog-post-module--meta--2_bew h1,.blog-post-module--meta--2_bew h2,.blog-post-module--meta--2_bew h3,.blog-post-module--meta--2_bew h4,.blog-post-module--meta--2_bew h5,.blog-post-module--meta--2_bew h6{color:#dbf9f4;background-color:#2660a4;display:inline-block;margin:2px}.blog-post-module--date--3Uhz3{margin-bottom:3px}.blog-post-module--content--c97Ib p:first-child{margin-top:5px}.blog-post-module--content--c97Ib a{color:#2660a4;font-weight:600}.blog-post-module--content--c97Ib a:hover{background-color:#2660a4;color:#dbf9f4}.header-module--header--L1ZnK{color:#2660a4}.header-module--no-underline--1zFf7,.header-module--no-underline--1zFf7:hover{text-decoration:none}.footer-module--footer--3zCYC{margin-top:30px}.layout-module--main--3y8Hb{width:min(960px,90vw)}.entryList-module--list--2g_BN{list-style:none;padding:0}.entryList-module--item--2bn2v{margin:10px 0;color:#b95204}.entryList-module--item--2bn2v a{color:inherit;font-weight:700}</style><meta name="generator" content="Gatsby 2.21.0"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#ff9f1c"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=e7d5434d8da869a71ee39f91dd37098c"/><link rel="alternate" type="application/rss+xml" title="Journal" href="/rss.xml"/><title data-react-helmet="true">JWT service | Journal</title><meta data-react-helmet="true" name="description" content="A journal/blog maintained by Mees van Dijk"/><meta data-react-helmet="true" property="og:title" content="JWT service"/><meta data-react-helmet="true" property="og:description" content="A journal/blog maintained by Mees van Dijk"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="JWT service"/><meta data-react-helmet="true" name="twitter:description" content="A journal/blog maintained by Mees van Dijk"/><link as="script" rel="preload" href="/webpack-runtime-33ad3e31b834f8bbf173.js"/><link as="script" rel="preload" href="/framework-a74044b4add31353c05b.js"/><link as="script" rel="preload" href="/app-c7ec3e893575b6537f01.js"/><link as="script" rel="preload" href="/styles-6b8affa5cc22cb60670e.js"/><link as="script" rel="preload" href="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-fb8f3814c5784f3d10b5.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-d11a696de3587dd0d778.js"/><link as="fetch" rel="preload" href="/page-data/jwt-service/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="header-module--header--L1ZnK"><h1><a class="simple " href="/">Journal</a></h1></header><main class="layout-module--main--3y8Hb"><h2 class="blog-post-module--title--3-2cL"><a class="simple" href="/">JWT service</a></h2><div class="blog-post-module--meta--2_bew"><h4>Home, Groningen</h4><br/><h4 class="blog-post-module--date--3Uhz3">Tuesday, May 5th 2020</h4><br/><h5>20:05 PM</h5></div><div class="blog-post-module--content--c97Ib"><p>Hey I’m back with a second post today, and an exciting one. I actually made
something that I listed in the last post. I made a
<a href="https://github.com/mees-/jwt-service">JWT service</a>. It’s really simple and
doesn’t control adding users to the list, which means that everyone can add
users which is probably not the best. It’s fairly easy to add some more
authorisation though, which is what I’ll do if I need to use this for an actual
project.</p>
<p>I’ve used a couple of libraries to create it and they’ve made it very easy to
build the app. I used <a href="https://expressjs.com/">express</a> as the server framework.
For JWT I used the
<a href="https://github.com/auth0/node-jsonwebtoken#readme">jsonwebtoken</a> library, which
is also very simple. To store users I used
<a href="https://github.com/lukechilds/keyv">keyv</a>. It’s a very simple key/value store
that has usernames as keys and hashes as values. I don’t need to store the JWTs
anywhere because they can be verified with just the secret. Keyv has a couple of
adaptors that make it easy to connect it to a persistent database, personally I
use postgres. Lastly I needed bcrypt to hash the stored passwords. With these
three libraries the whole service (without user creation auth) is only a single
file of 81 sloc (single lines of code). It only has four methods: <code>/token
</code>, <code>/validate</code>, <code>GET</code> on <code>/user</code> and
<code>POST</code> on <code>/user</code>. For specific information on how it
works and to try it out check
<a href="https://github.com/mees-/jwt-service">the Github repo</a>.</p>
<p>Create an issue if you think something should be better, I’ll probably extend it
a little bit more with extra data on users and authorization on creating users
but for now it works.</p></div></main><footer class="footer-module--footer--3zCYC"><span>Made by <a href="https://mees.io">Mees van Dijk</a> <!-- -->&lt;<!-- -->mees@mees.io<!-- -->&gt;</span></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-41392404-6', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/jwt-service/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c7ec3e893575b6537f01.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-5788871cb3fef7fd2c44.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c9d1714219ce18deb2f4.js"],"component---src-pages-index-js":["/component---src-pages-index-js-eac1025355fa66d58eb3.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-d11a696de3587dd0d778.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-d11a696de3587dd0d778.js" async=""></script><script src="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-fb8f3814c5784f3d10b5.js" async=""></script><script src="/styles-6b8affa5cc22cb60670e.js" async=""></script><script src="/app-c7ec3e893575b6537f01.js" async=""></script><script src="/framework-a74044b4add31353c05b.js" async=""></script><script src="/webpack-runtime-33ad3e31b834f8bbf173.js" async=""></script></body></html>